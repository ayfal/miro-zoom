<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fullscreen Video Bookmarklet</title>
</head>
<body>
    <h1>Fullscreen Video Bookmarklet</h1>
    <p>Drag the link below to your bookmarks toolbar. Then open a page with a video whose ID ends with <code>___screen</code> and click the bookmark.</p>

    <a href="javascript:(function(){var v=document.querySelector('video[id$=&quot;___screen&quot;]');if(!v){alert('No video with id ending ___screen found');return;}var origParent=v.parentNode,nextSibling=v.nextSibling,origStyle=v.getAttribute('style')||'';var overlay=document.createElement('div');Object.assign(overlay.style,{position:'fixed',inset:'0',background:'transparent',display:'flex',alignItems:'center',justifyContent:'center',zIndex:2147483647,overflow:'hidden',WebkitUserSelect:'none'});var container=document.createElement('div');Object.assign(container.style,{position:'relative',touchAction:'none',cursor:'grab',maxWidth:'100%',maxHeight:'100%',display:'flex',alignItems:'center',justifyContent:'center',overflow:'hidden'});var close=document.createElement('button');close.innerHTML='✕';Object.assign(close.style,{position:'absolute',right:'12px',top:'12px',zIndex:2147483648,fontSize:'20px',background:'#0008',color:'#fff',border:'0',padding:'6px 10px',borderRadius:'6px',cursor:'pointer'});var info=document.createElement('div');info.textContent='Drag to pan · Pinch / Ctrl+wheel / Ctrl+Plus/Minus to zoom · Double-click to toggle fullscreen · Esc to close';Object.assign(info.style,{position:'absolute',left:'12px',top:'12px',zIndex:2147483648,color:'#fff',fontSize:'12px',background:'#0006',padding:'6px 8px',borderRadius:'6px'});container.appendChild(v);overlay.appendChild(container);overlay.appendChild(close);overlay.appendChild(info);document.documentElement.appendChild(overlay);v.style.maxWidth='none';v.style.maxHeight='none';v.style.touchAction='none';v.style.cursor='grab';v.style.transformOrigin='center center';v.controls=true;var scale=1,tx=0,ty=0,dragging=false,startX=0,startY=0,startTx=0,startTy=0;var pointers={},pinchStartDist=0,pinchStartScale=1,pinchMidX=0,pinchMidY=0;function apply(){v.style.transform='translate('+tx+'px,'+ty+'px) scale('+scale+')';}function zoomAt(clientX,clientY,factor){var prev=scale;scale=Math.max(0.2,Math.min(6,scale*factor));var rect=v.getBoundingClientRect();var cx=clientX-rect.left,cy=clientY-rect.top;tx=tx-(cx)*(scale/prev-1);ty=ty-(cy)*(scale/prev-1);apply();}function reset(){scale=1;tx=0;ty=0;apply();}container.addEventListener('wheel',function(e){if(e.ctrlKey||e.metaKey){e.preventDefault();var factor=e.deltaY>0?0.95:1.05;zoomAt(e.clientX,e.clientY,factor);}},{passive:false});function onKey(e){if(e.key==='Escape')cleanup();if((e.ctrlKey||e.metaKey)&& (e.key==='+'||e.key==='=')){e.preventDefault();zoomAt(window.innerWidth/2,window.innerHeight/2,1.1);}if((e.ctrlKey||e.metaKey)&& e.key==='-'){e.preventDefault();zoomAt(window.innerWidth/2,window.innerHeight/2,0.9);}if((e.ctrlKey||e.metaKey)&& e.key==='0'){e.preventDefault();reset();}}container.addEventListener('pointerdown',function(e){e.preventDefault();container.setPointerCapture(e.pointerId);pointers[e.pointerId]={x:e.clientX,y:e.clientY};var count=Object.keys(pointers).length;if(count===1){dragging=true;container.style.cursor='grabbing';startX=e.clientX;startY=e.clientY;startTx=tx;startTy=ty;}else if(count===2){var ids=Object.keys(pointers);var p1=pointers[ids[0]],p2=pointers[ids[1]];pinchStartDist=Math.hypot(p2.x-p1.x,p2.y-p1.y);pinchStartScale=scale;pinchMidX=(p1.x+p2.x)/2;pinchMidY=(p1.y+p2.y)/2;}});container.addEventListener('pointermove',function(e){if(!(e.pointerId in pointers))return;pointers[e.pointerId]={x:e.clientX,y:e.clientY};var count=Object.keys(pointers).length;if(count===1&&dragging){tx=startTx+(e.clientX-startX);ty=startTy+(e.clientY-startY);apply();}else if(count>=2){var ids=Object.keys(pointers);var p1=pointers[ids[0]],p2=pointers[ids[1]];var dist=Math.hypot(p2.x-p1.x,p2.y-p1.y);if(pinchStartDist>0){var prev=scale;scale=Math.max(0.2,Math.min(6,pinchStartScale*(dist/pinchStartDist)));var rect=v.getBoundingClientRect();var cx=pinchMidX-rect.left,cy=pinchMidY-rect.top;tx=tx-(cx)*(scale/prev-1);ty=ty-(cy)*(scale/prev-1);apply();}}});function pointerUp(e){if(e.pointerId in pointers)delete pointers[e.pointerId];try{container.releasePointerCapture(e.pointerId);}catch(_){ }var count=Object.keys(pointers).length;if(count<2){pinchStartDist=0;pinchStartScale=scale;}if(count===0){dragging=false;container.style.cursor='grab';}else if(count===1){var ids=Object.keys(pointers);var p=pointers[ids[0]];startX=p.x;startY=p.y;startTx=tx;startTy=ty;dragging=true;container.style.cursor='grabbing';}}container.addEventListener('pointerup',pointerUp);container.addEventListener('pointercancel',pointerUp);v.addEventListener('dblclick',function(){var fs=document.fullscreenElement;if(!fs)overlay.requestFullscreen().catch(()=>{});else document.exitFullscreen().catch(()=>{});});function cleanup(){try{if(document.fullscreenElement)document.exitFullscreen().catch(()=>{});}catch(e){};try{document.removeEventListener('keydown',onKey);}catch(_){ }overlay.parentNode&&overlay.parentNode.removeChild(overlay); if(origParent) origParent.insertBefore(v,nextSibling); v.setAttribute('style',origStyle);}close.addEventListener('click',cleanup);document.addEventListener('keydown',onKey);})();">Fullscreen Video Bookmarklet</a>

</body>
</html>